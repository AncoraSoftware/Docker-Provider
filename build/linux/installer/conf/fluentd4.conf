    #Kubernetes pod inventory
    <source>
     @type kube_podinventory
     tag oms.containerinsights.KubePodInventory
     run_interval 60
     @log_level debug
    </source>   

    <match mdm.kubepodinventory**>
     @type mdm
     @log_level debug
     num_threads 5
     buffer_chunk_limit 4m
     buffer_type file
     buffer_path %STATE_DIR_WS%/out_mdm_*.buffer
     buffer_queue_limit 20
     buffer_queue_full_action drop_oldest_chunk
     flush_interval 20s
     retry_limit 10
     retry_wait 5s
     max_retry_wait 5m
     retry_mdm_post_wait_minutes 30
    </match>
   
    <match oms.containerinsights.KubePodInventory>
     @type forward
     @log_level debug
     <server>
       host 0.0.0.0
       port 29230
     </server>
     keepalive true
     <format>
       @type msgpack
     </format>
    </match>

    <match oms.api.KubePerf>
     @type forward
     @log_level debug
     <server>
       host 0.0.0.0
       port 29230
     </server>
     keepalive true
     <format>
       @type msgpack
     </format>
    </match>

    <match oms.containerinsights.ContainerInventory**>
     @type oms
     @log_level debug
     num_threads 2
     buffer_chunk_limit 4m
     buffer_type file
     buffer_path %STATE_DIR_WS%/out_oms_containerinventory*.buffer
     buffer_queue_limit 20
     buffer_queue_full_action drop_oldest_chunk
     flush_interval 20s
     retry_limit 10
     retry_wait 5s
     max_retry_wait 5m
    </match>

    <match oms.api.InsightsMetrics**>
     @type oms
     @log_level debug
     num_threads 5
     buffer_chunk_limit 4m
     buffer_type file
     buffer_path %STATE_DIR_WS%/out_oms_insightsmetrics*.buffer
     buffer_queue_limit 20
     buffer_queue_full_action drop_oldest_chunk
     flush_interval 20s
     retry_limit 10
     retry_wait 5s
     max_retry_wait 5m
    </match>